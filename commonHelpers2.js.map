{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import '../css/styles.css';\n// Constants\nconst form = document.querySelector('[data-login-form]');\nconst emailElem = form.querySelector('[data-email]');\nconst messageElem = form.querySelector('[data-comment]');\n\nconst LS_KEY = 'feedback-form-state';\n\nlet data = getLSObj(LS_KEY);\nif (data) showData(data);\n\nform.addEventListener('input', onFormInput);\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormInput(e) {\n  data[e.target.name] = e.target.value.trim();\n  localStorage.setItem(LS_KEY, JSON.stringify(data));\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  if (!emailElem.value || !messageElem.value) {\n    window.alert('Email or Message cannot be empty.');\n    return;\n  }\n\n  console.log(getLSObj(LS_KEY));\n  clearData();\n\n  e.target.reset();\n}\n\nfunction getLSObj(key) {\n  let obj = {};\n  try {\n    obj = JSON.parse(localStorage.getItem(key)) || {};\n  } catch (error) {\n    console.log('Failed to parse data from local storage.');\n  }\n  return obj;\n}\n\nfunction showData({ email = '', message = '' }) {\n  emailElem.value = email;\n  messageElem.value = message;\n}\n\nfunction clearData() {\n  localStorage.removeItem(LS_KEY);\n  data = {};\n}\n"],"names":["form","emailElem","messageElem","LS_KEY","data","getLSObj","showData","onFormInput","onFormSubmit","clearData","key","obj","email","message"],"mappings":"wFAEA,MAAMA,EAAO,SAAS,cAAc,mBAAmB,EACjDC,EAAYD,EAAK,cAAc,cAAc,EAC7CE,EAAcF,EAAK,cAAc,gBAAgB,EAEjDG,EAAS,sBAEf,IAAIC,EAAOC,EAASF,CAAM,EACtBC,GAAME,EAASF,CAAI,EAEvBJ,EAAK,iBAAiB,QAASO,CAAW,EAC1CP,EAAK,iBAAiB,SAAUQ,CAAY,EAE5C,SAASD,EAAY,EAAG,CACtBH,EAAK,EAAE,OAAO,IAAI,EAAI,EAAE,OAAO,MAAM,OACrC,aAAa,QAAQD,EAAQ,KAAK,UAAUC,CAAI,CAAC,CACnD,CAEA,SAASI,EAAa,EAAG,CAGvB,GAFA,EAAE,eAAc,EAEZ,CAACP,EAAU,OAAS,CAACC,EAAY,MAAO,CAC1C,OAAO,MAAM,mCAAmC,EAChD,MACD,CAED,QAAQ,IAAIG,EAASF,CAAM,CAAC,EAC5BM,IAEA,EAAE,OAAO,OACX,CAEA,SAASJ,EAASK,EAAK,CACrB,IAAIC,EAAM,CAAA,EACV,GAAI,CACFA,EAAM,KAAK,MAAM,aAAa,QAAQD,CAAG,CAAC,GAAK,EAChD,MAAe,CACd,QAAQ,IAAI,0CAA0C,CACvD,CACD,OAAOC,CACT,CAEA,SAASL,EAAS,CAAE,MAAAM,EAAQ,GAAI,QAAAC,EAAU,EAAE,EAAI,CAC9CZ,EAAU,MAAQW,EAClBV,EAAY,MAAQW,CACtB,CAEA,SAASJ,GAAY,CACnB,aAAa,WAAWN,CAAM,EAC9BC,EAAO,CAAA,CACT"}